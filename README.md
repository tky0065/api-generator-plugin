# API Generator - Plugin IntelliJ IDEA

![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)
![Java](https://img.shields.io/badge/Java-11%2B-orange.svg)
![IntelliJ](https://img.shields.io/badge/IntelliJ%20IDEA-2023.1%2B-purple.svg)

Un plugin IntelliJ IDEA qui acc√©l√®re le d√©veloppement backend en g√©n√©rant automatiquement une API CRUD compl√®te √† partir d'une entit√© JPA.

## üöÄ Fonctionnalit√©s

- **G√©n√©ration compl√®te d'API** : Cr√©ez rapidement une API REST fonctionnelle √† partir de vos entit√©s JPA
- **Flexibilit√©** : Choisissez les composants √† g√©n√©rer (DTO, Repository, Service, Controller, Mapper)
- **Pr√©visualisation** : Visualisez le code avant de l'ajouter √† votre projet
- **Hautement configurable** : Personnalisez les packages et les noms des classes g√©n√©r√©es
- **Support Lombok** : Option pour g√©n√©rer des DTOs avec Lombok
- **S√©curit√©** : Protection contre l'√©crasement accidentel des fichiers existants

## üìã Pr√©requis

- IntelliJ IDEA (Community ou Ultimate) version 2023.1 ou ult√©rieure
- Java 11 ou sup√©rieur
- Un projet avec Spring Boot et JPA

## üîß Installation

### √Ä partir du JetBrains Marketplace

1. Ouvrez IntelliJ IDEA
2. Allez dans `File > Settings > Plugins > Marketplace`
3. Recherchez "API Generator"
4. Cliquez sur "Install"
5. Red√©marrez IntelliJ IDEA quand vous y √™tes invit√©

### Installation manuelle

1. T√©l√©chargez le fichier `.zip` du plugin depuis la [page des releases](https://github.com/tky0065/api-generator/releases)
2. Dans IntelliJ IDEA, allez dans `File > Settings > Plugins`
3. Cliquez sur l'ic√¥ne d'engrenage ‚öôÔ∏è et s√©lectionnez "Install Plugin from Disk..."
4. S√©lectionnez le fichier `.zip` t√©l√©charg√©
5. Red√©marrez IntelliJ IDEA

## üìù Guide d'utilisation

### √âtape 1 : Cr√©ez une entit√© JPA

```java
@Entity
public class Product {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    private String name;
    private String description;
    private BigDecimal price;
    
    // getters, setters, constructeurs...
}
```

### √âtape 2 : G√©n√©rez l'API

1. Ouvrez votre classe d'entit√© JPA
2. Faites un clic droit sur le nom de la classe ou dans l'√©diteur
3. S√©lectionnez `Generate > Generate API`
4. Dans la bo√Æte de dialogue, configurez les options selon vos besoins :
   - S√©lectionnez les composants √† g√©n√©rer (DTO, Repository, Service, etc.)
   - Configurez les packages cibles
   - Personnalisez les suffixes des classes
   - Activez ou d√©sactivez Lombok pour les DTOs

5. Pr√©visualisez le code √† g√©n√©rer dans le panneau de droite
6. Cliquez sur `G√©n√©rer` pour ajouter les fichiers √† votre projet

### √âtape 3 : R√©solution des d√©pendances

Si votre projet ne poss√®de pas toutes les d√©pendances n√©cessaires, le plugin vous proposera d'ajouter les d√©pendances manquantes. Vous pourrez :

- Copier les d√©pendances Maven ou Gradle dans le presse-papier
- Les ajouter √† votre `pom.xml` ou `build.gradle`
- Recharger votre projet

## üîç Composants g√©n√©r√©s

### DTO (Data Transfer Object)

```java
// Generated by API Generator
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
public class ProductDTO {
    private Long id;
    private String name;
    private String description;
    private BigDecimal price;
}
```

### Mapper (avec MapStruct)

```java
// Generated by API Generator
@Mapper(componentModel = "spring")
public interface ProductMapper {
    ProductDTO toDto(Product entity);
    Product toEntity(ProductDTO dto);
    List<ProductDTO> toDtoList(List<Product> entities);
    List<Product> toEntityList(List<ProductDTO> dtos);
}
```

### Repository

```java
// Generated by API Generator
@Repository
public interface ProductRepository extends JpaRepository<Product, Long> {
    List<Product> findByNameContainingIgnoreCase(String name);
}
```

### Service

```java
// Generated by API Generator
@Service
public class ProductService {
    private final ProductRepository repository;
    
    public ProductService(ProductRepository repository) {
        this.repository = repository;
    }
    
    public List<Product> findAll() {
        return repository.findAll();
    }
    
    public Optional<Product> findById(Long id) {
        return repository.findById(id);
    }
    
    public Product save(Product entity) {
        return repository.save(entity);
    }
    
    public void deleteById(Long id) {
        repository.deleteById(id);
    }
}
```

### Controller REST

```java
// Generated by API Generator
@RestController
@RequestMapping("/products")
public class ProductController {
    private final ProductService service;
    private final ProductMapper mapper;
    
    public ProductController(ProductService service, ProductMapper mapper) {
        this.service = service;
        this.mapper = mapper;
    }
    
    @GetMapping
    public ResponseEntity<List<ProductDTO>> getAll() {
        List<Product> products = service.findAll();
        return ResponseEntity.ok(mapper.toDtoList(products));
    }
    
    @GetMapping("/{id}")
    public ResponseEntity<ProductDTO> getById(@PathVariable Long id) {
        return service.findById(id)
                .map(product -> ResponseEntity.ok(mapper.toDto(product)))
                .orElseGet(() -> ResponseEntity.notFound().build());
    }
    
    @PostMapping
    public ResponseEntity<ProductDTO> create(@RequestBody ProductDTO dto) {
        Product saved = service.save(mapper.toEntity(dto));
        return ResponseEntity.created(null).body(mapper.toDto(saved));
    }
    
    @PutMapping("/{id}")
    public ResponseEntity<ProductDTO> update(@PathVariable Long id, @RequestBody ProductDTO dto) {
        return service.findById(id)
                .map(existing -> {
                    Product updated = mapper.toEntity(dto);
                    updated.setId(id);
                    return ResponseEntity.ok(mapper.toDto(service.save(updated)));
                })
                .orElseGet(() -> ResponseEntity.notFound().build());
    }
    
    @DeleteMapping("/{id}")
    public ResponseEntity<Void> delete(@PathVariable Long id) {
        service.deleteById(id);
        return ResponseEntity.noContent().build();
    }
}
```

## üìö FAQ

**Q : Le plugin est-il compatible avec les versions ant√©rieures d'IntelliJ IDEA ?**  
R : Le plugin est con√ßu pour IntelliJ IDEA 2023.1 et versions ult√©rieures. Il pourrait fonctionner avec des versions ant√©rieures, mais cela n'est pas officiellement support√©.

**Q : Puis-je g√©n√©rer une API pour plusieurs entit√©s √† la fois ?**  
R : Actuellement, le plugin traite une entit√© √† la fois. Le support pour la g√©n√©ration en lot pourrait √™tre ajout√© dans une version future.

**Q : Est-il possible de personnaliser les templates de g√©n√©ration ?**  
R : La personnalisation des templates est pr√©vue pour une version future.

**Q : Le plugin fonctionne-t-il avec d'autres frameworks de persistance que JPA ?**  
R : Pour l'instant, seul JPA est pris en charge. Le support pour d'autres technologies comme MongoDB est pr√©vu.

**Q : Que se passe-t-il si j'ai d√©j√† des fichiers g√©n√©r√©s et que je r√©g√©n√®re l'API ?**  
R : Le plugin d√©tectera les fichiers existants et vous demandera si vous souhaitez les remplacer, les ignorer ou g√©n√©rer de nouveaux fichiers avec des noms diff√©rents.

## üêõ Signalement de probl√®mes

Si vous rencontrez des probl√®mes ou avez des suggestions, veuillez cr√©er une issue sur notre [page GitHub](https://github.com/tky0065/api-generator-plugin/issues).

## üîß Contribuer

Les contributions sont les bienvenues ! Consultez notre [guide de contribution](CONTRIBUTING.md) pour plus de d√©tails.

## üìÑ Licence

Ce projet est sous licence MIT - voir le fichier [LICENSE](LICENSE) pour plus de d√©tails.
